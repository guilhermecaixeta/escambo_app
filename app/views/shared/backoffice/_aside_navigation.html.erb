<section id="layoutSidenav_nav">
  <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
    <div class="sb-sidenav-menu">
      <div class="nav">
        <div class="sb-sidenav-menu-heading">Core</div>
        <%= link_to backoffice_dashboard_index_path, class: "nav-link" do %>
          <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
          Dashboard
        <% end %>
        <% if policy_for(current_admin, Backoffice::CategoriesController.controller_path).can_read? %>
          <%= link_to backoffice_categories_path, class: "nav-link" do %>
            <div class="sb-nav-link-icon"><i class="fas fa-th-list"></i></div>
            <%= Category.model_name.human(count: 2) %>
          <% end %>
        <% end %>
        <div class="sb-sidenav-menu-heading"><%= t 'layout.text.backoffice.management.title' %></div>
        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseLayouts" aria-expanded="false" aria-controls="collapseLayouts">
          <div class="sb-nav-link-icon"><i class="fa-regular fa-user"></i></div>
          <%= User.model_name.human(count: 2) %>
          <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
        </a>
        <div class="collapse" id="collapseLayouts" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
          <nav class="sb-sidenav-menu-nested nav">
            <% if policy_for(current_admin, Backoffice::AdminsController.controller_path).can_read? %>
              <%= link_to Admin.model_name.human(count: 2), backoffice_admins_path, class: "nav-link" %>
            <% end %>
            <% if policy_for(current_admin, Backoffice::MembersController.controller_path).can_read? %>
              <%= link_to Member.model_name.human(count: 2), backoffice_members_path, class: "nav-link" %>
            <% end %>
          </nav>
        </div>
        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsePages" aria-expanded="false" aria-controls="collapsePages">
          <div class="sb-nav-link-icon"><i class="fa-solid fa-shield-halved"></i></div>
          <%= t 'layout.text.backoffice.authorization.title' %>
          <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
        </a>
        <div class="collapse" id="collapsePages" aria-labelledby="headingTwo" data-bs-parent="#sidenavAccordion">
          <nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionPages">
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#pagesCollapseAuth" aria-expanded="false" aria-controls="pagesCollapseAuth">
              <%= Role.model_name.human %>
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="pagesCollapseAuth" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordionPages">
              <nav class="sb-sidenav-menu-nested nav">
                <% if policy_for(current_admin, Backoffice::RolesController.controller_path).can_read? %>
                  <%= link_to t('layout.text.backoffice.show_all'), backoffice_roles_path, class: "nav-link" %>
                <% end %>
              </nav>
            </div>
            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#pagesCollapseError" aria-expanded="false" aria-controls="pagesCollapseError">
              <%= Permission.model_name.human %>
              <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
            </a>
            <div class="collapse" id="pagesCollapseError" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordionPages">
              <nav class="sb-sidenav-menu-nested nav">
                <% if policy_for(current_admin, Backoffice::PermissionsController.controller_path).can_read? %>
                  <%= link_to t('layout.text.backoffice.show_all'), backoffice_permissions_path, class: "nav-link" %>
                <% end %>
              </nav>
            </div>
          </nav>
        </div>
        <div class="sb-sidenav-menu-heading">Addons</div>
        <a class="nav-link" href="charts.html">
          <div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
          Charts
        </a>
        <a class="nav-link" href="tables.html">
          <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
          Tables
        </a>
      </div>
    </div>
    <div class="sb-sidenav-footer">
      <div class="small"><%= t "layout.text.logged_as" %>:</div>
      <%= current_admin.name %>
    </div>
  </nav>
</section>
